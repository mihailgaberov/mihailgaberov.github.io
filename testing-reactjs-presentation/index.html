<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>UI (React) Unit Testing</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/night.css">
		<link rel="stylesheet" href="css/custom.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h2>UI (React) Unit Testing</h2>
					<h4>What should we test in our React components</h4>
					<p>
						<small>A humble proposal by <a href="http://mihail-gaberov.eu">Mihail Gaberov</a></small>
					</p>
				</section>
				<section data-background="images/unit-testing-joke.png">
					<h2 class="title">
						Do we need unit tests?
					</h2>
				</section>
				<section data-background="#b5533c">
					<h4 class="title">Render Logic</h4>
					<p class="content">Tests should test only the render logic, i.e. test what the user will be seeing and interacting with, without caring about the internal implementation.</p>
				</section>
				<section data-background="images/react-rendering.jpg">
					<h4 class="title">
						No lifecycle methods - <i>dīvide et imperā</i>
					</h4>
					<p class="content">Tests should not test lifecycle methods, they are supposed to be covered by React itself. If we have some logic that needs to be tested in such methods, we should try to extract it in another testable place and only use it in there.</p>
				</section>
				<section data-background="#4d7e65">
					<h4 class="title">No <i>outsiders</i></h4>
					<p class="content">Tests should not test interaction with outside world - API, DB, etc.</p>
				</section>
				<section data-background="#b5533c">
					<h4 class="title">Small, smaller, easier</h4>
					<p class="content">Tests should be small and easy to read - if we need to test big component with a lot of dependencies we need to consider splitting it to smaller testable pieces.</p> 
					<p class="content">If we need to use big mocks, we need to extract them out of the test and only use them by importing, in order to avoid polluting the test file.</p>
				</section>
				<section data-background="#4d7e65">
					<h4 class="title">Example</h4>
					<div class="content">
						<ul>
							<li>Given a simple component containing a button and a text field</li>
							<li>We should test what the user sees - rendering, and what the user can interact with - interaction</li>
							<li>If there is visual change after clicking - test for it</li>
							<li>If there is a value returned after clicking - test for it</li>
						</ul>
						<i>But we don't care about the internal implementation of the click handler!</i>
					</div>
				</section>
				<section>
					<h3>References</h3>
					<ul>
						<li><a href="https://github.com/mihailgaberov/testing-reactjs-presentation">Github repo</a> with the presentation and working example</li>
						<li><a href="https://medium.freecodecamp.org/the-right-way-to-test-react-components-548a4736ab22">A nice article</a> on the subject</li>
						<li><a href="https://www.leighhalliday.com/testing-react-jest-enzyme-sinon">Another good one</a> for testing with Jest, Enzyme and Sinon</li>
						<li><a href="https://github.com/sapegin/jest-cheat-sheet">Jest Cheat sheet</a></li>
					</ul>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			Reveal.initialize({
				backgroundTransition: 'zoom',
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
